<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Para Ma√ßƒ±</title>
    <link rel="icon" type="image/x-icon"
        href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAERSURBVDiNpdMxSsNQGMDx/5e8NBGhIA6Cix0EwcFJnNzFxV28gYt4Aw/gKbyCx/AIHkJwcRAHBUVEHBRB0KF5eRoHk5pXTdIP3vJ9vx++5X0fKaWsZR1rrWVd6zo45xhjePz6ZrFYkFLi7uEJ5xyICMYYlFI8PT+TUsL5ICZC/CfGGJRS9HqD1YBSipQSIsL0dJLFYsnl5RWTyTHD4SGj0RGiQkqJ+Xw+/JnNZgRwezfNYrFifn7BcLhPt9tjeHKAqBBCYH5+TgghG/B6FQC4u58mxsjl5ZU8HA5QVUREhBCIMS4D1tr3CACUUrTbbarqnbquqaoKYwxKqT8BAKqqegdACIFWq0VRVVRVRV3XVFWFMaYxAPANe+Fl1fSJH1kAAAAASUVORK5CYII=">
    <script>
        // Suppress Tailwind CDN production warning before loading
        (function () {
            const originalWarn = console.warn;
            console.warn = function (...args) {
                // Filter out Tailwind CDN production warning
                if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com should not be used in production')) {
                    return;
                }
                originalWarn.apply(console, args);
            };
        })();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Restore console.warn after Tailwind loads
        setTimeout(() => {
            // Config is still needed for other purposes
            tailwind.config = {
                devtools: false
            };
        }, 100);
    </script>
  <script type="module" crossorigin src="/coinmatchDeploy/assets/index-D0vjkelg.js"></script>
  <link rel="stylesheet" crossorigin href="/coinmatchDeploy/assets/index-BNPuElRg.css">
</head>

<body class="bg-slate-800 text-white flex items-center justify-center min-h-screen p-4">

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Custom Confirm Dialog -->
    <div id="confirm-dialog" class="hidden fixed inset-0 z-[10001] flex items-center justify-center p-4"
        style="background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(8px);">
        <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-700 transform transition-all"
            style="animation: confirmPop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);">
            <div class="p-6">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-16 h-16 bg-amber-500/20 rounded-full flex items-center justify-center">
                        <span class="text-4xl">‚ö†Ô∏è</span>
                    </div>
                </div>
                <h3 id="confirm-title" class="text-xl font-bold text-white text-center mb-2">Emin misiniz?</h3>
                <p id="confirm-message" class="text-slate-300 text-center mb-6"></p>
                <div class="flex gap-3">
                    <button id="confirm-cancel"
                        class="flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-6 rounded-xl transition-all transform hover:scale-105">
                        ƒ∞ptal
                    </button>
                    <button id="confirm-ok"
                        class="flex-1 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-slate-900 font-bold py-3 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                        Evet, Eminim
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Screen -->
    <div id="auth-screen" class="w-full max-w-md mx-auto bg-slate-900/70 p-6 rounded-lg shadow-2xl hidden">
        <h2 class="text-3xl font-bold text-center mb-6 text-amber-300 text-shadow">Para Ma√ßƒ±</h2>
        <!-- Login Form -->
        <form id="login-form" class="space-y-4">
            <div>
                <label for="login-email" class="block mb-1 font-semibold text-slate-300">Email</label>
                <input type="email" id="login-email" autocomplete="email" inputmode="email"
                    placeholder="ornek@email.com"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    required>
            </div>
            <div>
                <label for="login-password" class="block mb-1 font-semibold text-slate-300">≈ûifre</label>
                <input type="password" id="login-password" autocomplete="current-password"
                    placeholder="≈ûifrenizi girin"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    required>
            </div>
            <div id="login-error"
                class="text-red-400 text-sm hidden p-3 rounded bg-red-900/30 border border-red-800/50 flex items-start space-x-2">
                <span class="text-lg">‚ö†Ô∏è</span>
                <span class="flex-1"></span>
            </div>
            <button type="submit"
                class="w-full bg-amber-500 hover:bg-amber-600 text-slate-900 font-bold py-3 rounded-lg shadow-lg transition-transform transform hover:scale-105 flex items-center justify-center relative">
                <span class="button-text">Giri≈ü Yap</span>
                <div class="spinner w-5 h-5 border-4 border-slate-900 rounded-full animate-spin hidden absolute"></div>
            </button>
            <p class="text-center text-sm text-slate-400">Hesabƒ±n yok mu? <a href="#" id="show-register"
                    class="text-amber-400 hover:underline">Kayƒ±t Ol</a></p>
        </form>
        <!-- Register Form -->
        <form id="register-form" class="space-y-4 hidden">
            <div>
                <label for="register-email" class="block mb-1 font-semibold text-slate-300">Email</label>
                <input type="email" id="register-email" autocomplete="email" inputmode="email"
                    placeholder="ornek@email.com"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    required>
            </div>
            <div>
                <label for="register-password" class="block mb-1 font-semibold text-slate-300">≈ûifre</label>
                <input type="password" id="register-password" autocomplete="new-password"
                    placeholder="G√º√ßl√º bir ≈üifre olu≈üturun"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    required>

                <!-- Password Requirements -->
                <div id="password-requirements"
                    class="mt-2 p-3 bg-slate-800/50 rounded-lg border border-slate-700 space-y-1 text-sm hidden">
                    <div class="font-semibold text-slate-300 mb-2">≈ûifre gereksinimleri:</div>
                    <div id="req-length" class="flex items-center gap-2 text-slate-400">
                        <span class="requirement-icon">‚óã</span>
                        <span>En az 6 karakter</span>
                    </div>
                    <div id="req-uppercase" class="flex items-center gap-2 text-slate-400">
                        <span class="requirement-icon">‚óã</span>
                        <span>En az bir b√ºy√ºk harf (A-Z)</span>
                    </div>
                    <div id="req-lowercase" class="flex items-center gap-2 text-slate-400">
                        <span class="requirement-icon">‚óã</span>
                        <span>En az bir k√º√ß√ºk harf (a-z)</span>
                    </div>
                    <div id="req-number" class="flex items-center gap-2 text-slate-400">
                        <span class="requirement-icon">‚óã</span>
                        <span>En az bir rakam (0-9)</span>
                    </div>
                </div>
            </div>
            <div>
                <label for="register-password-confirm" class="block mb-1 font-semibold text-slate-300">≈ûifre
                    Tekrar</label>
                <input type="password" id="register-password-confirm" autocomplete="new-password"
                    placeholder="≈ûifrenizi tekrar girin"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    required>
            </div>
            <div id="register-error"
                class="text-red-400 text-sm hidden p-3 rounded bg-red-900/30 border border-red-800/50 flex items-start space-x-2">
                <span class="text-lg">‚ö†Ô∏è</span>
                <span class="flex-1"></span>
            </div>
            <button type="submit"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition-transform transform hover:scale-105 flex items-center justify-center relative">
                <span class="button-text">Kayƒ±t Ol</span>
                <div class="spinner w-5 h-5 border-4 border-white rounded-full animate-spin hidden absolute"></div>
            </button>
            <p class="text-center text-sm text-slate-400">Zaten hesabƒ±n var mƒ±? <a href="#" id="show-login"
                    class="text-amber-400 hover:underline">Giri≈ü Yap</a></p>
        </form>
    </div>

    <!-- User Profile Screen -->
    <div id="profile-screen"
        class="w-full max-w-md mx-auto bg-slate-900/70 p-6 rounded-lg shadow-2xl hidden overflow-y-auto max-h-screen">
        <!-- Header with Home Button -->
        <div class="flex items-center justify-between mb-6">
            <button id="profile-home-button"
                class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                <span class="text-lg">üè†</span>
                <span class="text-sm">Ana Men√º</span>
            </button>
            <h2 class="text-xl font-bold text-amber-300">Kullanƒ±cƒ± Profili</h2>
            <div class="w-20"></div> <!-- Spacer for centering title -->
        </div>
        <form id="profile-form" class="space-y-4">
            <div>
                <label for="profile-firstname" class="block mb-1 font-semibold text-slate-300">Ad</label>
                <input type="text" id="profile-firstname"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    placeholder="Adƒ±nƒ±z">
            </div>
            <div>
                <label for="profile-lastname" class="block mb-1 font-semibold text-slate-300">Soyad</label>
                <input type="text" id="profile-lastname"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    placeholder="Soyadƒ±nƒ±z">
            </div>
            <div>
                <label for="profile-nickname" class="block mb-1 font-semibold text-slate-300">Takma Ad</label>
                <input type="text" id="profile-nickname"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    placeholder="Oyundaki takma adƒ±nƒ±z">
            </div>
            <div>
                <label for="profile-phone" class="block mb-1 font-semibold text-slate-300">Telefon</label>
                <input type="tel" id="profile-phone"
                    class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                    placeholder="+90 5xx xxx xx xx">
            </div>
            <div>
                <label for="profile-email-display" class="block mb-1 font-semibold text-slate-300">Email</label>
                <input type="email" id="profile-email-display"
                    class="w-full p-2 rounded bg-slate-600 text-slate-400 border border-slate-600" disabled>
            </div>

            <div class="border-t border-slate-600 pt-4 mt-4">
                <h3 class="text-lg font-semibold text-slate-300 mb-3">≈ûifre Deƒüi≈ütir</h3>
                <div class="space-y-3">
                    <div>
                        <label for="current-password" class="block mb-1 text-sm text-slate-400">Mevcut ≈ûifre</label>
                        <input type="password" id="current-password"
                            class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                            placeholder="Mevcut ≈üifreniz">
                    </div>
                    <div>
                        <label for="new-password" class="block mb-1 text-sm text-slate-400">Yeni ≈ûifre</label>
                        <input type="password" id="new-password"
                            class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                            placeholder="Yeni ≈üifreniz">
                    </div>
                    <div>
                        <label for="new-password-confirm" class="block mb-1 text-sm text-slate-400">Yeni ≈ûifre
                            Tekrar</label>
                        <input type="password" id="new-password-confirm"
                            class="w-full p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500"
                            placeholder="Yeni ≈üifrenizi tekrar girin">
                    </div>
                    <p class="text-xs text-slate-400">Not: ≈ûifre deƒüi≈ütirmek istemiyorsanƒ±z bu alanlarƒ± bo≈ü
                        bƒ±rakabilirsiniz.</p>
                </div>
            </div>

            <div class="border-t border-slate-600 pt-4 mt-4">
                <h3 class="text-lg font-semibold text-slate-300 mb-3">G√∂r√ºnt√ºleme Tercihi</h3>
                <div class="space-y-2">
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="display-preference" value="realname" id="display-realname"
                            class="w-4 h-4 text-amber-500">
                        <span class="text-slate-300">Ger√ßek Adƒ±mƒ± G√∂ster (Ad Soyad)</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="display-preference" value="nickname" id="display-nickname"
                            class="w-4 h-4 text-amber-500" checked>
                        <span class="text-slate-300">Takma Adƒ±mƒ± G√∂ster</span>
                    </label>
                </div>
            </div>

            <div class="border-t border-slate-600 pt-4 mt-4">
                <h3 class="text-lg font-semibold text-slate-300 mb-3">üìä Oyun ƒ∞statistikleri</h3>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                    <div class="bg-slate-800/60 p-3 rounded text-center">
                        <div class="text-slate-400 text-xs mb-1">Toplam Puan</div>
                        <div id="stat-total-points" class="font-bold text-amber-300 text-2xl">0</div>
                    </div>
                    <div class="bg-slate-800/60 p-3 rounded text-center">
                        <div class="text-slate-400 text-xs mb-1">Toplam Oyun S√ºresi</div>
                        <div id="stat-total-game-time" class="font-bold text-white">00:00:00</div>
                    </div>
                    <div class="bg-slate-800/60 p-3 rounded text-center">
                        <div class="text-slate-400 text-xs mb-1">Toplam Sƒ±ra S√ºresi</div>
                        <div id="stat-total-turn-time" class="font-bold text-white">00:00:00</div>
                    </div>
                </div>
            </div>

            <div id="profile-error"
                class="text-red-400 text-sm hidden p-3 rounded bg-red-900/30 border border-red-800/50 flex items-start space-x-2">
                <span class="text-lg">‚ö†Ô∏è</span>
                <span class="flex-1"></span>
            </div>
            <div id="profile-success"
                class="text-green-400 text-sm hidden p-3 rounded bg-green-900/30 border border-green-800/50 flex items-start space-x-2">
                <span class="text-lg">‚úì</span>
                <span class="flex-1"></span>
            </div>

            <button type="submit"
                class="w-full bg-amber-500 hover:bg-amber-600 text-slate-900 font-bold py-3 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                Kaydet ve Devam Et
            </button>
        </form>
    </div>

    <!-- Main Dashboard Screen -->
    <div id="main-menu-screen" class="w-full max-w-6xl mx-auto hidden p-4 overflow-y-auto max-h-screen">

        <!-- User Info Card -->
        <div
            class="bg-gradient-to-r from-slate-800 to-slate-900 p-6 rounded-2xl shadow-xl mb-6 border border-slate-700">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center text-2xl font-bold text-slate-900"
                        id="user-avatar">
                        üë§
                    </div>
                    <div>
                        <div id="user-welcome" class="text-2xl font-bold text-amber-300">Ho≈ü geldin!</div>
                        <div class="text-slate-400 flex items-center space-x-2">
                            <span id="user-rank">ü•â Bronz Lig</span>
                        </div>
                        <div class="mt-2 w-48">
                            <div class="flex justify-between text-xs mb-1 text-slate-300">
                                <span id="user-level" class="font-bold">Level 1</span>
                                <span id="xp-text-label" class="font-semibold text-amber-400">0/100 XP</span>
                            </div>
                            <div class="w-full bg-slate-700 rounded-full h-2.5">
                                <div id="xp-progress" class="bg-gradient-to-r from-amber-500 to-amber-400 h-2.5 rounded-full transition-all duration-500"
                                    style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <button id="info-button"
                        class="bg-slate-700 hover:bg-slate-600 text-white p-3 rounded-lg transition-colors"
                        title="Bilgilendirme">
                        ‚ÑπÔ∏è
                    </button>
                    <button id="profile-settings-button"
                        class="bg-slate-700 hover:bg-slate-600 text-white p-3 rounded-lg transition-colors"
                        title="Ayarlar">
                        ‚öôÔ∏è
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div
                class="bg-slate-800/80 p-4 rounded-xl border border-slate-700 hover:border-green-500/50 transition-colors">
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-3xl font-bold text-green-400" id="wins-count">0</div>
                        <div class="text-slate-400 text-sm">üèÜ Galibiyet</div>
                        <div class="text-green-400/70 text-xs" id="win-rate">0% oran</div>
                    </div>
                    <div class="text-4xl">üèÜ</div>
                </div>
            </div>

            <div
                class="bg-slate-800/80 p-4 rounded-xl border border-slate-700 hover:border-red-500/50 transition-colors">
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-3xl font-bold text-red-400" id="losses-count">0</div>
                        <div class="text-slate-400 text-sm">‚ùå Maƒülubiyet</div>
                        <div class="text-red-400/70 text-xs" id="loss-rate">0% oran</div>
                    </div>
                    <div class="text-4xl">‚ùå</div>
                </div>
            </div>

            <div
                class="bg-slate-800/80 p-4 rounded-xl border border-slate-700 hover:border-blue-500/50 transition-colors">
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-3xl font-bold text-blue-400" id="total-games">0</div>
                        <div class="text-slate-400 text-sm">üéÆ Toplam Oyun</div>
                        <div class="text-blue-400/70 text-xs"><span id="draws-count">0</span> beraberlik</div>
                    </div>
                    <div class="text-4xl">üéÆ</div>
                </div>
            </div>

            <div
                class="bg-slate-800/80 p-4 rounded-xl border border-slate-700 hover:border-amber-500/50 transition-colors">
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-3xl font-bold text-amber-400" id="total-points">0</div>
                        <div class="text-slate-400 text-sm">‚öΩ Lig Puanƒ±</div>
                        <div class="text-amber-400/70 text-xs">Toplam kazanƒ±lan puan</div>
                    </div>
                    <div class="text-4xl">‚öΩ</div>
                </div>
            </div>
        </div>

        <!-- Oyun Ba≈ülatma B√∂l√ºm√º -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">

            <!-- Kendi Kendine Oynama -->
            <div class="bg-slate-800/80 p-6 rounded-xl border border-slate-700">
                <h3 class="text-xl font-bold text-amber-300 mb-4 flex items-center space-x-2">
                    <span>ü™ô</span>
                    <span>Oyunculuƒüunu Geli≈ütir</span>
                </h3>
                <p class="text-slate-400 text-sm mb-4">Tek ba≈üƒ±na pratik yap, stratejilerini geli≈ütir</p>
                <button id="practice-mode-button"
                    class="w-full quick-action-btn bg-gradient-to-br from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-bold py-6 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105">
                    <div class="text-4xl mb-2">ü™ô</div>
                    <div class="text-lg">Antrenman Ba≈ülat</div>
                </button>
            </div>

            <!-- Rakip ƒ∞le Oynama -->
            <div class="bg-slate-800/80 p-6 rounded-xl border border-slate-700">
                <h3 class="text-xl font-bold text-amber-300 mb-4 flex items-center space-x-2">
                    <span>üë•</span>
                    <span>Rekabete Katƒ±l</span>
                </h3>
                <p class="text-slate-400 text-sm mb-4">Arkada≈ülarƒ±nla veya rastgele rakiplerle oyna</p>

                <div class="space-y-4">
                    <!-- Oyuna Katƒ±l Section -->
                    <div class="space-y-2">
                        <div class="text-sm font-semibold text-slate-300 flex items-center space-x-2">
                            <span>üéÆ</span>
                            <span>Oyuna Katƒ±l</span>
                        </div>
                        <button id="find-game-button"
                            class="w-full quick-action-btn bg-gradient-to-br from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white font-bold py-4 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105">
                            <div class="flex items-center justify-center space-x-3">
                                <div class="text-3xl">‚ñ∂Ô∏è</div>
                                <div class="text-left">
                                    <div class="text-base">Oyuna Katƒ±l</div>
                                    <div class="text-xs opacity-75">Kendi liginden oyuncu bul</div>
                                </div>
                            </div>
                        </button>
                    </div>

                    <!-- √ñzel Oyun Section -->
                    <div class="space-y-2 pt-2 border-t border-slate-700">
                        <div class="text-sm font-semibold text-slate-300 flex items-center space-x-2">
                            <span>üîí</span>
                            <span>√ñzel Oyun</span>
                        </div>

                        <!-- √ñzel Oda Olu≈ütur (Private) -->
                        <button id="create-private-game-button"
                            class="w-full quick-action-btn bg-gradient-to-br from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-slate-900 font-bold py-4 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105">
                            <div class="flex items-center justify-center space-x-3">
                                <div class="text-3xl">üë•</div>
                                <div class="text-left">
                                    <div class="text-base">√ñzel Oda Olu≈ütur</div>
                                    <div class="text-xs opacity-75">Arkada≈üƒ±nla oyna</div>
                                </div>
                            </div>
                        </button>

                        <!-- Oda Koduna Katƒ±l -->
                        <div class="bg-slate-900/50 p-3 rounded-lg border border-slate-600">
                            <div class="text-xs text-slate-300 mb-2 font-semibold">üîó Oda Koduna Katƒ±l</div>
                            <div class="flex space-x-2">
                                <input type="text" id="join-game-input" placeholder="Oda kodu..."
                                    class="flex-grow p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500 uppercase font-mono text-center text-sm"
                                    maxlength="6">
                                <button id="join-game-button"
                                    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded transition-all transform hover:scale-105">
                                    Katƒ±l
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Puan Tablosu -->
        <div class="bg-slate-800/80 p-6 rounded-xl border border-slate-700 mb-6">
            <div class="flex items-center justify-between mb-4">
                <h3 id="leaderboard-league-badge" class="text-xl font-bold text-orange-400">
                    ü•â Bronz Lig Puan Tablosu
                </h3>
                <button id="refresh-leaderboard" class="text-slate-400 hover:text-amber-300 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                        </path>
                    </svg>
                </button>
            </div>

            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-slate-700 text-slate-400">
                            <th class="py-2 px-2 text-left">#</th>
                            <th class="py-2 px-3 text-left">Oyuncu</th>
                            <th class="py-2 px-2 text-center">O</th>
                            <th class="py-2 px-2 text-center">G</th>
                            <th class="py-2 px-2 text-center">B</th>
                            <th class="py-2 px-2 text-center">M</th>
                            <th class="py-2 px-2 text-center font-bold">P</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-table" class="text-slate-300">
                        <!-- Dynamic leaderboard rows -->
                        <tr class="border-b border-slate-700/50 hover:bg-slate-700/30">
                            <td class="py-3 px-2 font-bold text-amber-400">1</td>
                            <td class="py-3 px-3">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">üë§</span>
                                    <span id="current-user-name">Sen</span>
                                </div>
                            </td>
                            <td class="py-3 px-2 text-center" id="leaderboard-games">0</td>
                            <td class="py-3 px-2 text-center text-green-400" id="leaderboard-wins">0</td>
                            <td class="py-3 px-2 text-center text-yellow-400" id="leaderboard-draws">0</td>
                            <td class="py-3 px-2 text-center text-red-400" id="leaderboard-losses">0</td>
                            <td class="py-3 px-2 text-center font-bold text-amber-400" id="leaderboard-points">0</td>
                        </tr>
                        <tr class="text-slate-500 text-xs">
                            <td colspan="7" class="py-2 text-center">
                                <div class="flex items-center justify-center space-x-2">
                                    <svg class="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                                        </path>
                                    </svg>
                                    <span>Diƒüer oyuncular y√ºkleniyor...</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="mt-3 pt-3 border-t border-slate-700 text-xs text-slate-400">
                <p><strong>Kƒ±saltmalar:</strong> O: Oyun, G: Galibiyet, B: Beraberlik, M: Maƒülubiyet, P: Puan</p>
            </div>
        </div>

        <!-- Logout -->
        <div class="text-center">
            <button id="logout-button"
                class="bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-8 rounded-lg transition-colors">
                üö™ √áƒ±kƒ±≈ü Yap
            </button>
        </div>

    </div>

    <!-- Available Games Screen (NEW) -->
    <div id="available-games-screen" class="w-full max-w-4xl mx-auto hidden">
        <div class="flex items-center justify-between mb-6">
            <button id="available-games-back-button"
                class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                <span class="text-lg">‚¨ÖÔ∏è</span>
                <span class="text-sm">Geri</span>
            </button>
            <h2 class="text-2xl font-bold text-amber-300">Mevcut Oyunlar</h2>
            <div class="flex items-center space-x-2">
                <button id="filter-games-button" class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>
                    <span class="text-sm">Filtrele</span>
                </button>
                <button id="refresh-available-games"
                    class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                        </path>
                    </svg>
                    <span class="text-sm">Yenile</span>
                </button>
            </div>
        </div>

        <!-- User's League Info -->
        <div class="bg-slate-800/80 p-4 rounded-xl border border-slate-700 mb-4 text-center">
            <p class="text-slate-400 text-sm">Senin Ligin:</p>
            <p id="available-games-user-league" class="text-2xl font-bold text-blue-400">ü•â Bronz Lig</p>
            <p class="text-slate-500 text-xs mt-1">Sadece kendi ligindeki oyunlarƒ± g√∂r√ºyorsun</p>
        </div>


        <!-- Available Games List -->
        <div id="available-games-list" class="space-y-3">
            <!-- Games will be dynamically loaded here -->
            <div class="bg-slate-800/80 p-6 rounded-xl border border-slate-700 text-center">
                <div class="flex items-center justify-center space-x-2 text-slate-400">
                    <svg class="w-6 h-6 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                        </path>
                    </svg>
                    <span>Oyunlar y√ºkleniyor...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Filter Games Modal -->
    <div id="filter-games-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4">
        <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-md w-full">
            <!-- Modal Header -->
            <div class="p-5 border-b border-slate-700 flex items-center justify-between">
                <h2 class="text-xl font-bold text-amber-300 flex items-center gap-3">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>
                    Oyunlarƒ± Filtrele
                </h2>
                <button id="close-filter-modal" class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <!-- Modal Content -->
            <div class="p-6 space-y-5">
                <!-- Filter Group: Toggles -->
                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                    <div class="flex items-center justify-between">
                        <label for="filter-collision-foul" class="font-bold text-white">√áarpƒ±≈üma Faul√º</label>
                        <select id="filter-collision-foul" class="filter-select">
                            <option value="any">T√ºm√º</option>
                            <option value="on">A√ßƒ±k</option>
                            <option value="off">Kapalƒ±</option>
                        </select>
                    </div>
                    <hr class="border-slate-700 my-3">
                    <div class="flex items-center justify-between">
                        <label for="filter-same-coin-foul" class="font-bold text-white">√úst √úste Oynama Faul√º</label>
                        <select id="filter-same-coin-foul" class="filter-select">
                            <option value="any">T√ºm√º</option>
                            <option value="on">A√ßƒ±k</option>
                            <option value="off">Kapalƒ±</option>
                        </select>
                    </div>
                </div>

                <!-- Filter Group: Sorting -->
                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                    <div class="flex items-center justify-between">
                        <label for="sort-lives" class="font-bold text-white">Can Sayƒ±sƒ±na G√∂re Sƒ±rala</label>
                        <select id="sort-lives" class="filter-select">
                            <option value="none">Sƒ±ralama</option>
                            <option value="desc">√áoktan Aza</option>
                            <option value="asc">Azdan √áoƒüa</option>
                        </select>
                    </div>
                    <hr class="border-slate-700 my-3">
                    <div class="flex items-center justify-between">
                        <label for="sort-min-moves" class="font-bold text-white">Min. Hamle Sayƒ±sƒ±na G√∂re Sƒ±rala</label>
                        <select id="sort-min-moves" class="filter-select">
                            <option value="none">Sƒ±ralama</option>
                            <option value="desc">√áoktan Aza</option>
                            <option value="asc">Azdan √áoƒüa</option>
                        </select>
                    </div>
                     <hr class="border-slate-700 my-3">
                    <div class="flex items-center justify-between">
                        <label for="sort-foul-rate" class="font-bold text-white">Ev Sahibi Faul Oranƒ±</label>
                        <select id="sort-foul-rate" class="filter-select">
                            <option value="none">Sƒ±ralama</option>
                            <option value="asc">En D√º≈ü√ºk Faul</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-5 border-t border-slate-700 flex gap-3">
                <button id="reset-filters-button" class="flex-1 bg-slate-600 hover:bg-slate-500 text-white font-bold py-3 px-6 rounded-lg transition-colors">Sƒ±fƒ±rla</button>
                <button id="apply-filters-button" class="flex-1 bg-amber-600 hover:bg-amber-500 text-white font-bold py-3 px-6 rounded-lg transition-colors">Uygula</button>
            </div>
        </div>
    </div>

    <!-- Game Rules Modal (NEW) -->
    <div id="game-rules-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4">
        <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-md w-full">
            <!-- Modal Header -->
            <div class="p-5 border-b border-slate-700 flex items-center justify-between">
                <h2 class="text-xl font-bold text-amber-300 flex items-center gap-3">
                    üìú Oyun Kurallarƒ±
                </h2>
                <button id="close-game-rules-modal" class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <!-- Modal Content (Rules will be dynamically populated here) -->
            <div id="game-rules-content" class="p-6 space-y-4 text-slate-300">
                <!-- Dynamic content goes here -->
                <p>Oyun kurallarƒ± y√ºkleniyor...</p>
            </div>

            <!-- Modal Footer -->
            <div class="p-5 border-t border-slate-700 flex justify-end">
                <button id="ok-game-rules-modal" class="bg-amber-600 hover:bg-amber-500 text-white font-bold py-3 px-6 rounded-lg transition-colors">Tamam</button>
            </div>
        </div>
    </div>

    <!-- Create Game Settings Screen -->
    <div id="create-game-settings-screen"
        class="w-full max-w-md mx-auto bg-slate-900/70 p-6 rounded-lg shadow-2xl hidden">
        <div class="flex items-center justify-between mb-6">
            <button id="create-game-back-button"
                class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                <span class="text-lg">‚¨ÖÔ∏è</span>
                <span class="text-sm">Geri</span>
            </button>
            <h2 class="text-xl font-bold text-amber-300">Oyun Ayarlarƒ±</h2>
            <div class="w-20"></div>
        </div>

        <form id="create-game-form" class="space-y-6">
            <!-- Rules Configuration -->
            <div class="bg-slate-800/60 p-4 rounded-xl border border-slate-700 space-y-4">

                <!-- Collision Foul Toggle -->
                <div class="flex items-center justify-between">
                    <div>
                        <div class="font-bold text-white">√áarpƒ±≈üma Faul√º</div>
                        <div class="text-xs text-slate-400">Paralar √ßarpƒ±≈üƒ±rsa faul sayƒ±lƒ±r</div>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="setting-collision-foul" class="sr-only peer" checked>
                        <div
                            class="w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                        </div>
                    </label>
                </div>

                <!-- Same Coin Sequential Foul Toggle -->
                <div class="flex items-center justify-between border-t border-slate-700 pt-4">
                    <div>
                        <div class="font-bold text-white">√úst √úste Oynama Faul√º</div>
                        <div class="text-xs text-slate-400">Aynƒ± parayla √ºst √ºste oynanƒ±rsa faul</div>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="setting-same-coin-foul" class="sr-only peer" checked>
                        <div
                            class="w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                        </div>
                    </label>
                </div>

                <!-- Lives Setting -->
                <div class="border-t border-slate-700 pt-4">
                    <div class="flex items-center justify-between mb-2">
                        <div class="font-bold text-white">Can Sayƒ±sƒ±</div>
                        <span id="lives-display"
                            class="bg-amber-500 text-slate-900 font-bold px-3 py-1 rounded text-sm">3</span>
                    </div>
                    <input type="range" id="setting-lives" min="1" max="10" value="3"
                        class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500">
                    <div class="flex justify-between text-xs text-slate-500 mt-1">
                        <span>1</span>
                        <span>5</span>
                        <span>10</span>
                    </div>
                </div>

                <!-- Minimum Moves Setting -->
                <div class="border-t border-slate-700 pt-4">
                    <div class="flex items-center justify-between mb-2">
                        <div class="font-bold text-white">Min. Hamle (Gol ƒ∞√ßin)</div>
                        <span id="min-moves-display"
                            class="bg-amber-500 text-slate-900 font-bold px-3 py-1 rounded text-sm">3</span>
                    </div>
                    <input type="range" id="setting-min-moves" min="3" max="10" value="3"
                        class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500">
                    <div class="flex justify-between text-xs text-slate-500 mt-1">
                        <span>3</span>
                        <span>6</span>
                        <span>10</span>
                    </div>
                </div>

                <!-- Time Rule Setting -->
                <div class="border-t border-slate-700 pt-4">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <div class="font-bold text-white">‚è±Ô∏è S√ºre Limiti</div>
                            <div class="text-xs text-slate-400">Her oyuncu i√ßin toplam s√ºre</div>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="setting-time-rule-enabled" class="sr-only peer">
                            <div
                                class="w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                            </div>
                        </label>
                    </div>
                    <div id="time-rule-settings" class="hidden">
                        <div class="flex items-center justify-between mb-2">
                            <div class="text-sm text-slate-300">Oyuncu Ba≈üƒ±na S√ºre</div>
                            <span id="time-limit-display"
                                class="bg-amber-500 text-slate-900 font-bold px-3 py-1 rounded text-sm">5 dk</span>
                        </div>
                        <input type="range" id="setting-time-limit" min="1" max="15" value="5"
                            class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500">
                        <div class="flex justify-between text-xs text-slate-500 mt-1">
                            <span>1 dk</span>
                            <span>5 dk</span>
                            <span>10 dk</span>
                            <span>15 dk</span>
                        </div>
                        <div class="mt-3 p-3 bg-slate-900/50 rounded-lg border border-slate-600">
                            <div class="text-xs text-slate-400">
                                <span class="text-amber-400">üí° ƒ∞pucu:</span> S√ºre dolduƒüunda oyuncu elenir. 
                                Kalan son oyuncu veya en y√ºksek skorlu oyuncu kazanƒ±r.
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <button type="submit"
                class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                Odayƒ± Olu≈ütur
            </button>
        </form>
    </div>

    <!-- Practice Mode Settings Screen -->
    <div id="practice-settings-screen" class="w-full max-w-md mx-auto bg-slate-900/70 p-6 rounded-lg shadow-2xl hidden">
        <div class="flex items-center justify-between mb-6">
            <button id="practice-settings-back-button"
                class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                <span class="text-lg">‚¨ÖÔ∏è</span>
                <span class="text-sm">Geri</span>
            </button>
            <h2 class="text-xl font-bold text-amber-300">Antrenman Ayarlarƒ±</h2>
            <div class="w-20"></div>
        </div>

        <form id="practice-settings-form" class="space-y-6">
            <!-- Rules Configuration -->
            <div class="bg-slate-800/60 p-4 rounded-xl border border-slate-700 space-y-4">

                <!-- Collision Foul Toggle -->
                <div class="flex items-center justify-between">
                    <div>
                        <div class="font-bold text-white">√áarpƒ±≈üma Faul√º</div>
                        <div class="text-xs text-slate-400">Paralar √ßarpƒ±≈üƒ±rsa faul sayƒ±lƒ±r</div>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="practice-collision-foul" class="sr-only peer" checked>
                        <div
                            class="w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                        </div>
                    </label>
                </div>

                <!-- Same Coin Sequential Foul Toggle -->
                <div class="flex items-center justify-between border-t border-slate-700 pt-4">
                    <div>
                        <div class="font-bold text-white">√úst √úste Oynama Faul√º</div>
                        <div class="text-xs text-slate-400">Aynƒ± parayla √ºst √ºste oynanƒ±rsa faul</div>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="practice-same-coin-foul" class="sr-only peer" checked>
                        <div
                            class="w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                        </div>
                    </label>
                </div>

                <!-- Minimum Moves Setting -->
                <div class="border-t border-slate-700 pt-4">
                    <div class="flex items-center justify-between mb-2">
                        <div class="font-bold text-white">Min. Hamle (Gol ƒ∞√ßin)</div>
                        <span id="practice-min-moves-display"
                            class="bg-amber-500 text-slate-900 font-bold px-3 py-1 rounded text-sm">3</span>
                    </div>
                    <input type="range" id="practice-min-moves" min="3" max="10" value="3"
                        class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500">
                    <div class="flex justify-between text-xs text-slate-500 mt-1">
                        <span>3</span>
                        <span>6</span>
                        <span>10</span>
                    </div>
                </div>

            </div>

            <button type="submit"
                class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                Antrenmanƒ± Ba≈ülat
            </button>
        </form>
    </div>

    <!-- Lobby Screen -->
    <div id="lobby-screen" class="w-full max-w-md mx-auto bg-slate-900/70 p-6 rounded-lg shadow-2xl hidden">
        <!-- Header with Home Button -->
        <div class="flex items-center justify-between mb-4">
            <button id="lobby-home-button"
                class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                <span class="text-lg">üè†</span>
                <span class="text-sm">Ana Men√º</span>
            </button>
            <h2 class="text-xl font-bold text-amber-300">Lobi</h2>
            <div class="w-20"></div> <!-- Spacer for centering title -->
        </div>
        <div class="text-center mb-4">
            <p class="text-slate-400">Oda Kodu:</p>
            <p id="lobby-game-code" class="text-4xl font-bold text-amber-300 tracking-widest"></p>
            <p id="lobby-league-info" class="text-lg text-blue-400 mt-2 font-semibold"></p>
        </div>

        <!-- Rules Section in Lobby -->
        <div id="lobby-rules" class="bg-slate-800/50 p-3 rounded-lg mb-4 text-xs text-slate-300">
            <div class="font-bold text-amber-400 mb-1">Oyun Kurallarƒ±:</div>
            <div class="grid grid-cols-2 gap-2">
                <div class="flex items-center gap-1">
                    <span id="rule-collision-icon">‚úÖ</span>
                    <span>√áarpƒ±≈üma Faul√º</span>
                </div>
                <div class="flex items-center gap-1">
                    <span id="rule-same-coin-icon">‚úÖ</span>
                    <span>√úst √úste Oynama Faul√º</span>
                </div>
                <div class="flex items-center gap-1">
                    <span>‚ù§Ô∏è</span>
                    <span>Can: <span id="rule-lives-count" class="font-bold text-white">3</span></span>
                </div>
                <div class="flex items-center gap-1">
                    <span>üéØ</span>
                    <span>Min. Hamle: <span id="rule-min-moves-count" class="font-bold text-white">3</span></span>
                </div>
                <div id="rule-time-container" class="flex items-center gap-1 col-span-2 hidden">
                    <span>‚è±Ô∏è</span>
                    <span>S√ºre Limiti: <span id="rule-time-limit" class="font-bold text-amber-300">5 dk</span></span>
                </div>
            </div>
        </div>

        <div id="lobby-player-list" class="space-y-2 mb-4"></div>
        <div class="space-y-3">
            <button id="ready-button"
                class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg shadow-lg">Hazƒ±r</button>
            <button id="start-game-from-lobby-button"
                class="w-full bg-amber-500 hover:bg-amber-600 text-slate-900 font-bold py-3 rounded-lg shadow-lg hidden">Oyunu
                Ba≈ülat</button>
            <button id="leave-lobby-button"
                class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded-lg mt-2">Lobiden
                Ayrƒ±l</button>
        </div>
    </div>

    <!-- Coin Toss Modal (outside of game screen so it's visible from lobby) -->
    <div id="coin-toss-modal" class="fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[10000] flex flex-col items-center justify-center hidden">
        <div id="coin-toss-players" class="flex justify-around w-full max-w-md mb-8">
            <!-- Player 1 -->
            <div id="toss-player-1" class="text-center player-toss-card">
                <div class="player-avatar w-24 h-24 bg-slate-700 rounded-full mb-2 border-4 border-slate-600 flex items-center justify-center text-4xl transition-all duration-500">üë§</div>
                <p class="player-name text-xl font-bold text-white"></p>
                <div class="player-choice text-2xl font-bold text-amber-400 mt-2 h-8"></div>
            </div>
            <!-- Player 2 -->
            <div id="toss-player-2" class="text-center player-toss-card">
                <div class="player-avatar w-24 h-24 bg-slate-700 rounded-full mb-2 border-4 border-slate-600 flex items-center justify-center text-4xl transition-all duration-500">üë§</div>
                <p class="player-name text-xl font-bold text-white"></p>
                <div class="player-choice text-2xl font-bold text-amber-400 mt-2 h-8"></div>
            </div>
        </div>

        <div id="coin-toss-container" class="perspective-1000">
            <div id="coin" class="relative w-40 h-40 preserve-3d">
                <div class="coin-face front absolute w-full h-full backface-hidden rounded-full overflow-hidden">
                    <img src="/coinmatchDeploy/assets/ancient-coin01-CzjzI9Mu.png" alt="Yazƒ±" class="w-full h-full object-cover">
                </div>
                <div class="coin-face back absolute w-full h-full backface-hidden rounded-full overflow-hidden">
                    <img src="/coinmatchDeploy/assets/ancient-coin04-biPRZzxK.png" alt="Tura" class="w-full h-full object-cover">
                </div>
            </div>
        </div>

        <div id="coin-toss-message" class="mt-8 text-2xl font-bold text-amber-300 text-shadow-lg h-10"></div>
    </div>

    <!-- Main Game Screen -->
    <div id="main-game-screen" class="w-full max-w-7xl mx-auto hidden">
        
        <!-- Game Header with Home Button -->
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
                <button id="game-home-button"
                    class="home-button bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors flex items-center space-x-2">
                    <span class="text-lg">üè†</span>
                    <span class="text-sm">Ana Men√º</span>
                </button>
                <button id="show-rules-button"
                    class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors" title="Oyun Kurallarƒ±">
                    <span class="text-lg">üìú</span>
                </button>
            </div>
            <h1 class="text-2xl sm:text-3xl font-bold text-shadow text-amber-300">Para Ma√ßƒ±</h1>
            <div class="w-24"></div> <!-- Spacer for centering title -->
        </div>
        <div class="flex flex-col lg:flex-row gap-6">
            <div id="game-container"
                class="w-full lg:flex-1 aspect-[3/5] rounded-lg relative overflow-hidden bg-slate-900 shadow-inner">
                <canvas id="gameCanvas"></canvas>
                <canvas id="fireworksCanvas" class="absolute inset-0 pointer-events-none"></canvas>
                <div id="game-overlay"
                    class="absolute inset-0 bg-gradient-to-br from-slate-900/95 via-purple-900/90 to-slate-900/95 backdrop-blur-sm flex items-center justify-center hidden text-center rounded-lg p-4">
                    <div class="flex flex-col items-center max-w-lg w-full my-auto">
                        <!-- Animation Container for Fouls/Goals -->
                        <div id="overlay-animation" class="mb-6"></div>

                        <div id="overlay-text"
                            class="text-2xl md:text-4xl font-bold text-white text-shadow leading-tight mb-6"></div>

                        <!-- Player Ready Status Cards -->
                        <div id="rematch-status-container" class="hidden w-full space-y-3 mb-6">
                            <!-- Player status cards will be dynamically added here -->
                        </div>

                        <!-- Action Buttons -->
                        <button id="ack-button"
                            class="hidden bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-10 rounded-xl shadow-2xl transition-all duration-300 transform hover:scale-110 hover:shadow-blue-500/50 mt-4">
                            <span class="flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                                Tamam
                            </span>
                        </button>

                        <button id="rematch-button"
                            class="hidden bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-4 px-12 rounded-xl shadow-2xl transition-all duration-300 transform hover:scale-110 hover:shadow-green-500/50 animate-pulse">
                            <span class="flex items-center gap-3 text-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                                    </path>
                                </svg>
                                Hazƒ±rƒ±m! üéÆ
                            </span>
                        </button>

                        <button id="practice-menu-button"
                            class="hidden bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white font-bold py-3 px-10 rounded-xl shadow-2xl transition-all duration-300 transform hover:scale-105 mt-4">
                            <span class="flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                                </svg>
                                Ana Men√ºye D√∂n
                            </span>
                        </button>

                        <div id="waiting-text"
                            class="hidden mt-6 px-6 py-4 bg-amber-500/20 border-2 border-amber-400 rounded-xl backdrop-blur-sm">
                            <div class="flex items-center gap-3">
                                <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-amber-400"></div>
                                <span class="text-lg text-amber-300 font-semibold">Diƒüer oyuncular bekleniyor...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full lg:w-80" id="info-panels-container">
                <!-- Mobile Tab Buttons -->
                <div id="mobile-tabs" class="flex lg:hidden border-b-2 border-slate-700 mb-4 rounded-t-lg overflow-hidden">
                    <button data-tab="scoreboard" class="mobile-tab-button flex-1 p-3 text-sm font-bold">
                        üìä Oyuncu Durumu
                    </button>
                    <button data-tab="chat-box" class="mobile-tab-button flex-1 p-3 text-sm font-bold relative">
                        üí¨ Sohbet
                        <span id="chat-tab-notification-badge" class="absolute top-1 right-2 w-4 h-4 bg-red-500 rounded-full text-white text-xs flex items-center justify-center hidden"></span>
                    </button>
                </div>

                <!-- Panels (Scoreboard and Chat) -->
                <div class="lg:space-y-4">
                    <!-- Scoreboard -->
                    <div id="scoreboard" class="tab-panel bg-slate-900/50 p-4 rounded-lg">
                        <h2 class="text-2xl font-bold text-amber-300 border-b-2 border-slate-600 pb-2 mb-2">Oyuncu Durumu
                        </h2>

                        <!-- Game Timer -->
                        <div class="mb-3 text-center">
                            <div class="text-slate-400 text-xs mb-1">‚è±Ô∏è Toplam S√ºre</div>
                            <div id="game-timer" class="text-amber-300 font-bold text-lg">00:00:00</div>
                        </div>

                        <div id="player-list" class="space-y-3"></div>
                    </div>

                    <!-- Chat Box -->
                    <div id="chat-box" class="tab-panel bg-slate-900/50 rounded-lg overflow-hidden flex flex-col"
                        style="height: 300px;">
                        <div class="bg-slate-800 p-3 border-b border-slate-700">
                            <h3 class="text-lg font-bold text-amber-300 flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                                    </path>
                                </svg>
                                Sohbet
                                <span id="chat-notification-badge"
                                    class="hidden bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse"></span>
                            </h3>
                        </div>
                        <div id="chat-messages" class="flex-1 overflow-y-auto p-3 space-y-2 scroll-smooth">
                            <!-- Messages will appear here -->
                        </div>
                        <div class="p-3 border-t border-slate-700">
                            <form id="chat-form" class="flex gap-2">
                                <input type="text" id="chat-input" placeholder="Mesaj yaz..." maxlength="200"
                                    class="flex-1 p-2 rounded bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm">
                                <button type="submit"
                                    class="bg-amber-500 hover:bg-amber-600 text-slate-900 font-bold px-4 py-2 rounded transition-colors flex items-center justify-center"
                                    title="G√∂nder">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                                    </svg>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="info-modal"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4">
        <div
            class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-3xl w-full max-h-[90vh] overflow-y-auto">
            <!-- Modal Header -->
            <div
                class="sticky top-0 bg-gradient-to-r from-slate-800 to-slate-900 p-6 border-b border-slate-700 flex items-center justify-between z-10">
                <h2 class="text-2xl font-bold text-amber-300 flex items-center gap-3">
                    <span class="text-3xl">‚ÑπÔ∏è</span>
                    Oyun Bilgilendirme
                </h2>
                <button id="close-info-modal"
                    class="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Modal Content -->
            <div class="p-6 space-y-6">

                <!-- XP System Section -->
                <div
                    class="bg-gradient-to-r from-purple-900/30 to-purple-800/30 p-5 rounded-xl border border-purple-600/30">
                    <div class="flex items-start space-x-3">
                        <div class="text-3xl">üíé</div>
                        <div class="flex-1">
                            <h3 class="text-purple-300 font-bold text-lg mb-3">Deneyim Puanƒ± (XP) Sistemi</h3>
                            <div class="bg-slate-800/50 p-4 rounded-lg border border-purple-500/20 mb-3">
                                <p class="text-amber-300 font-mono text-sm mb-2">XP Kazanƒ±m Kurallarƒ±:</p>
                                <p class="text-slate-200 text-base font-semibold">
                                    ‚Ä¢ Galibiyet: <span class="text-green-400 font-bold">5 XP</span>
                                </p>
                                <p class="text-slate-200 text-base font-semibold">
                                    ‚Ä¢ Beraberlik: <span class="text-blue-400 font-bold">3 XP</span>
                                </p>
                                <p class="text-slate-200 text-base font-semibold">
                                    ‚Ä¢ Maƒülubiyet: <span class="text-red-400 font-bold">1 XP</span>
                                </p>
                            </div>
                            <div class="text-slate-300 text-sm space-y-2">
                                <p>‚Ä¢ Her ma√ß sonucunda belirtilen XP'yi kazanƒ±rsƒ±nƒ±z.</p>
                                <p>‚Ä¢ XP kazanarak seviye atlarsƒ±nƒ±z.</p>
                                <p>‚Ä¢ Her seviye yeni ba≈üarƒ±lar ve √∂d√ºller getirir.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- League System Section -->
                <div
                    class="bg-gradient-to-r from-amber-900/30 to-amber-800/30 p-5 rounded-xl border border-amber-600/30">
                    <div class="flex items-start space-x-3">
                        <div class="text-3xl">üèÜ</div>
                        <div class="flex-1">
                            <h3 class="text-amber-300 font-bold text-lg mb-3">Lig Sistemi</h3>
                            <div class="space-y-3">
                                <!-- Bronze League -->
                                <div
                                    class="bg-gradient-to-r from-orange-900/30 to-orange-800/30 p-4 rounded-lg border border-orange-500/30">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xl">ü•â</span>
                                        <span class="text-orange-300 font-bold text-lg">Bronz Lig</span>
                                        <span class="text-slate-400 text-sm">0-199 puan</span>
                                    </div>
                                    <p class="text-slate-300 text-xs">Ba≈ülangƒ±√ß ligi - Temel becerileri geli≈ütir</p>
                                </div>

                                <!-- Silver League -->
                                <div
                                    class="bg-gradient-to-r from-gray-700/30 to-gray-600/30 p-4 rounded-lg border border-gray-400/30">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xl">ü•à</span>
                                        <span class="text-gray-300 font-bold text-lg">G√ºm√º≈ü Lig</span>
                                        <span class="text-slate-400 text-sm">200-499 puan</span>
                                    </div>
                                    <p class="text-slate-300 text-xs">Orta seviye - Stratejini geli≈ütir</p>
                                </div>

                                <!-- Gold League -->
                                <div
                                    class="bg-gradient-to-r from-yellow-900/30 to-yellow-800/30 p-4 rounded-lg border border-yellow-500/30">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xl">üëë</span>
                                        <span class="text-yellow-300 font-bold text-lg">Altƒ±n Lig</span>
                                        <span class="text-slate-400 text-sm">500-999 puan</span>
                                    </div>
                                    <p class="text-slate-300 text-xs">ƒ∞leri seviye - Uzmanlƒ±ƒüƒ±nƒ± g√∂ster</p>
                                </div>

                                <!-- Diamond League -->
                                <div
                                    class="bg-gradient-to-r from-purple-900/30 to-purple-800/30 p-4 rounded-lg border border-purple-500/30">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xl">üíé</span>
                                        <span class="text-purple-300 font-bold text-lg">Elmas Lig</span>
                                        <span class="text-slate-400 text-sm">1000+ puan</span>
                                    </div>
                                    <p class="text-slate-300 text-xs">Elit seviye - En iyilerle yarƒ±≈ü</p>
                                </div>
                            </div>
                            <div class="mt-4 space-y-3">
                                <div
                                    class="text-slate-400 text-xs bg-blue-900/30 p-3 rounded-lg border border-blue-500/30">
                                    <p class="mb-2"><strong class="text-blue-300"> Puan Tablosu Sƒ±ralamasƒ±</strong></p>
                                    <p class="mb-1">‚Ä¢ Puan tablosunda <strong class="text-amber-300">sadece bulunduƒüun
                                            ligdeki</strong> oyuncularƒ± g√∂r√ºrs√ºn</p>
                                    <p>‚Ä¢ Kendi ligin i√ßinde ka√ßƒ±ncƒ± sƒ±rada olduƒüunu takip edebilirsin</p>
                                </div>
                                <div class="text-slate-400 text-xs bg-slate-800/50 p-3 rounded-lg">
                                    <p class="mb-1"><strong class="text-green-300">üí° ƒ∞pucu:</strong></p>
                                    <p>Farklƒ± liglerdeki oyuncularla kar≈üƒ±la≈ümak i√ßin ma√ßlarƒ± kazan, puan topla ve √ºst
                                        liglere y√ºksel!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Points System Section -->
                <div
                    class="bg-gradient-to-r from-green-900/30 to-green-800/30 p-5 rounded-xl border border-green-600/30">
                    <div class="flex items-start space-x-3">
                        <div class="text-3xl">üìä</div>
                        <div class="flex-1">
                            <h3 class="text-green-300 font-bold text-lg mb-3">Puan Sistemi</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                                <div class="bg-green-900/40 p-4 rounded-lg border border-green-600/40 text-center">
                                    <div class="text-3xl mb-2">üèÜ</div>
                                    <div class="text-green-400 font-bold text-lg mb-1">Galibiyet</div>
                                    <div class="text-green-300 text-2xl font-bold">+3</div>
                                    <div class="text-slate-400 text-xs mt-1">puan</div>
                                </div>
                                <div class="bg-yellow-900/40 p-4 rounded-lg border border-yellow-600/40 text-center">
                                    <div class="text-3xl mb-2">ü§ù</div>
                                    <div class="text-yellow-400 font-bold text-lg mb-1">Beraberlik</div>
                                    <div class="text-yellow-300 text-2xl font-bold">+1</div>
                                    <div class="text-slate-400 text-xs mt-1">puan</div>
                                </div>
                                <div class="bg-red-900/40 p-4 rounded-lg border border-red-600/40 text-center">
                                    <div class="text-3xl mb-2">‚ùå</div>
                                    <div class="text-red-400 font-bold text-lg mb-1">Maƒülubiyet</div>
                                    <div class="text-red-300 text-2xl font-bold">0</div>
                                    <div class="text-slate-400 text-xs mt-1">puan</div>
                                </div>
                            </div>
                            <div class="mt-4 text-slate-400 text-xs bg-slate-800/50 p-3 rounded-lg">
                                <p><strong class="text-amber-300">‚ö†Ô∏è √ñnemli:</strong> Puanlar sadece rakip ile oynanan
                                    ma√ßlarda kazanƒ±lƒ±r. Tek ba≈üƒ±na antrenman yaparken puan kazanamazsƒ±n.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Modal Footer -->
            <div class="sticky bottom-0 bg-gradient-to-r from-slate-800 to-slate-900 p-6 border-t border-slate-700">
                <button id="close-info-modal-btn"
                    class="w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                    Anladƒ±m, Geri D√∂n
                </button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="/firebase-config.js"></script>

    <!-- Basic runtime checks to surface clear errors before app init -->
    <script>
        (function () {
            function showFatalError(message) {
                try {
                    var el = document.createElement('div');
                    el.id = 'fatal-error-banner';
                    el.style.position = 'fixed';
                    el.style.inset = '0';
                    el.style.background = 'rgba(15,23,42,0.96)';
                    el.style.color = 'white';
                    el.style.display = 'flex';
                    el.style.alignItems = 'center';
                    el.style.justifyContent = 'center';
                    el.style.zIndex = '9999';
                    el.style.padding = '24px';
                    el.innerHTML = `<div style="max-width:700px;text-align:center;font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial;">
                        <h2 style="font-size:28px;margin-bottom:12px;color:#fbbf24;">Uygulama Ba≈ülatƒ±lamadƒ±</h2>
                        <p style="font-size:16px;line-height:1.6;margin-bottom:16px;">${message}</p>
                        <div style="opacity:0.8;font-size:14px;">ƒ∞pucu: ƒ∞nternet baƒülantƒ±nƒ±zƒ± ve kurumsal aƒü/antivir√ºs engellemelerini kontrol edin. Gerekirse yerel sunucu ile √ßalƒ±≈ütƒ±rƒ±n.</div>
                    </div>`;
                    document.body.appendChild(el);
                } catch (e) {
                    alert(message);
                }
            }

            // If completely offline
            if (typeof navigator !== 'undefined' && navigator && navigator.onLine === false) {
                window.SKIP_APP_INIT = true;
                showFatalError('ƒ∞nternet baƒülantƒ±sƒ± yok. CDN baƒüƒ±mlƒ±lƒ±klarƒ± (Tailwind, Firebase SDK) y√ºklenemedi. Baƒülantƒ±yƒ± a√ßƒ±p sayfayƒ± yenileyin veya yerel sunucu kullanƒ±n.');
                return;
            }

            // Firebase SDK load check
            if (typeof window.firebase === 'undefined' ||
                typeof window.firebase.auth === 'undefined' ||
                typeof window.firebase.database === 'undefined') {
                // Give the browser a brief moment in case of slow networks
                setTimeout(function () {
                    if (typeof window.firebase === 'undefined' ||
                        typeof window.firebase.auth === 'undefined' ||
                        typeof window.firebase.database === 'undefined') {
                        window.SKIP_APP_INIT = true;
                        showFatalError('Firebase SDK y√ºklenemedi (ERR_EMPTY_RESPONSE olabilir). Aƒüƒ±nƒ±z cdn.gstatic.com eri≈üimini engelliyor olabilir. Alternatif: Firebase Emulators ile veya ba≈üka bir aƒüda deneyin.');
                    }
                }, 300);
            }

            // Config presence check (firebase-config.js)
            if (typeof window.firebase !== 'undefined' && typeof window.firebase.apps !== 'undefined') {
                try {
                    // If no app initialized, initializeApp may have failed
                    if (!window.firebase.apps.length) {
                        // Let main.js handle auth/database access errors gracefully
                        console.warn('Firebase app is not initialized yet. Check firebase-config.js values.');
                    }
                } catch (e) {
                    console.warn('Firebase app state could not be verified:', e);
                }
            }
        })();
    </script>
</body>

</html>